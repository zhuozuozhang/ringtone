<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset=utf-8>
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=viewport content="width=device-width,initial-scale=1">
    <title>订单列表</title>
    <link th:href="@{/client/400/css/app.c972703d.css}" rel="stylesheet">
    <link th:href="@{/client/400/css/chunk-1d18d900.8acebab1.css}" rel="stylesheet">
    <link th:href="@{/client/400/css/chunk-vendors.753ee7da.css}" rel="stylesheet">
    <link th:href="@{/client/400/css/chunk-175c044e.5fd6e6b9.css}" rel="stylesheet">
    <link th:href="@{/client/400/css/chunk-29aab2f7.0fff83d4.css}" rel="stylesheet">
    <link th:href="@{/client/400/css/chunk-537e6598.7396185f.css}" rel="stylesheet">
    <link th:href="@{/admins/dataTables/jquery.dataTables.min.css}" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/public/layui/css/layui.css}">
    <link rel="stylesheet" th:href="@{/public/layui/css/modules/layer/default/layer.css}">
</head>

<body>
    <div id="app">
        <div>
            <div data-v-e907fed4="" class="header">
                <div data-v-e907fed4="" class="c-container">
                    <span data-v-e907fed4="" class="user-name">[[${session.username}]]</span>
                    <a th:href="@{/loginout}"><span data-v-e907fed4="" class="exit">退出</span></a>
                </div>
            </div>
            <section data-v-04d52060="" class="el-container is-vertical">
                <header data-v-04d52060="" class="el-header main-header" style="height: 65px;">
                    <div data-v-c11354a6="" data-v-04d52060="" id="homeTop">
                        <div data-v-c11354a6="" class="el-row">
                            <div data-v-c11354a6="" class="el-col el-col-6">
                                <a data-v-c11354a6="" href="#" class="">
                                    <img data-v-c11354a6="" class="logo-view" th:src="@{/client/400/images/logo.png}">
                                </a>
                            </div>
                            <div data-v-c11354a6="" class="right-nav el-col el-col-18">
                                <ul data-v-c11354a6="">
                                    <li data-v-c11354a6="">
                                        <a data-v-c11354a6="" th:href="@{/400/toIndex}"
                                           class="">号码选择</a>
                                    </li>
                                    <li data-v-c11354a6="">
                                        <a data-v-c11354a6=""th:href="@{/400/order_list}" class="router-link-exact-active active">订单管理</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </header>
                <main data-v-04d52060="" class="el-main">
                    <div data-v-ecae308c="" data-v-04d52060="" style="position: relative; width: 1200px; margin: 0px auto;">
                        <div data-v-ecae308c="" class="c-container search">
                            <span data-v-ecae308c="" class="title">提交时间</span>
                            <span data-v-ecae308c="" class="title">号码</span>
                            <span data-v-ecae308c="" class="title">订单状态</span>
                            <span data-v-ecae308c="" class="title">运营商</span>
                            <span data-v-ecae308c=""></span>
                            <div data-v-ecae308c="" class="el-date-editor el-range-editor el-input__inner el-date-editor--daterange" style="width: 100%;">
                                <i class="el-input__icon el-range__icon el-icon-date"></i>
                                <input autocomplete="off" placeholder="开始日期" name="" class="el-range-input" id="start" style="width: 65%;">
                                <span class="el-range-separator">-</span>
                                <input autocomplete="off" placeholder="结束日期" name="" class="el-range-input" id="end" style="width: 65%;">
                                <i class="el-input__icon el-range__close-icon"></i>
                            </div>
                            <div data-v-ecae308c="" class="el-input el-input-group el-input-group--append">
                                <input type="text" autocomplete="off" placeholder="搜索400号码" class="el-input__inner">
                                <div class="el-input-group__append">
                                    <button data-v-ecae308c="" type="button" class="el-button el-button--default">
                                        <i class="el-icon-search"></i>
                                    </button>
                                </div>
                            </div>
                            <div data-v-ecae308c="" class="el-select">
                                <div class="el-input el-input--suffix status_div">
                                    <input type="text" readonly="readonly" autocomplete="off" placeholder="请选择" class="el-input__inner" id="status" onclick="Searchd('status',this)" is_click="1">
                                    <span class="el-input__suffix">
                                        <span class="el-input__suffix-inner">
                                            <i class="el-select__caret el-input__icon el-icon-arrow-up status_icon"></i>
                                        </span>
                                    </span>
                                </div>
                                <div class="el-select-dropdown el-popper status_d" style="display: none; min-width: 110px;">
                                    <div class="el-scrollbar" style="">
                                        <div class="el-select-dropdown__wrap el-scrollbar__wrap" style="margin-bottom: -17px; margin-right: -17px;">
                                            <ul class="el-scrollbar__view el-select-dropdown__list">
                                                <li data-v-7c58087b="" class="el-select-dropdown__item selected" onclick="SelectCity('全部',this,'status');"><span>全部</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('开通成功',this,'status');"><span>开通成功</span>
                                                </li>
                                                 <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('待补充信息',this,'status');"><span>待补充信息</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('待支付',this,'status');"><span>待支付</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('未审核',this,'status');"><span>未审核</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('预占成功',this,'status');"><span>预占成功</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('预占失败',this,'status');"><span>预占失败</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('审核中',this,'status');"><span>审核中</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('审核不通过',this,'status');"><span>审核不通过</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('开通中',this,'status');"><span>开通中</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('开通失败',this,'status');"><span>开通失败</span>
                                                </li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('已退款',this,'status');"><span>已退款</span>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="el-scrollbar__bar is-horizontal">
                                            <div class="el-scrollbar__thumb" style="transform: translateX(0%);"></div>
                                        </div>
                                        <div class="el-scrollbar__bar is-vertical">
                                            <div class="el-scrollbar__thumb" style="transform: translateY(0%);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-v-ecae308c="" class="el-select">
                                <div class="el-input el-input--suffix operator_div">
                                    <input type="text" readonly="readonly" autocomplete="off" placeholder="请选择" class="el-input__inner" id="operator" onclick="Searchd('operator',this)" is_click="1">
                                    <span class="el-input__suffix">
                                        <span class="el-input__suffix-inner">
                                            <i class="el-select__caret el-input__icon el-icon-arrow-up operator_icon"></i>
                                        </span>
                                    </span>
                                </div>
                                <div class="el-select-dropdown el-popper operator_d" style="display: none; min-width: 110px;">
                                    <div class="el-scrollbar" style="">
                                        <div class="el-select-dropdown__wrap el-scrollbar__wrap" style="margin-bottom: -17px; margin-right: -17px;">
                                            <ul class="el-scrollbar__view el-select-dropdown__list">
                                                <li data-v-7c58087b="" class="el-select-dropdown__item selected" onclick="SelectCity('全部',this,'operator');"><span>全部</span></li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('联通',this,'operator');"><span>联通</span></li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('电信',this,'operator');"><span>电信</span></li>
                                                <li data-v-7c58087b="" class="el-select-dropdown__item" onclick="SelectCity('移动',this,'operator');"><span>移动</span></li>
                                            </ul>
                                        </div>
                                        <div class="el-scrollbar__bar is-horizontal">
                                            <div class="el-scrollbar__thumb" style="transform: translateX(0%);"></div>
                                        </div>
                                        <div class="el-scrollbar__bar is-vertical">
                                            <div class="el-scrollbar__thumb" style="transform: translateY(0%);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-v-ecae308c="">
                                <button data-v-ecae308c="" type="button" class="el-button el-button--primary" style="width: 90px;">
                                    <span>搜 索</span>
                                </button>
                                <button data-v-ecae308c="" type="button" class="el-button el-button--default" style="width: 90px;">
                                    <span>重 置</span>
                                </button>
                            </div>
                        </div>
                        <div data-v-ecae308c="" class="c-container" style="position: relative;">
                            <div data-v-7c58087b="" class="c-container" style="position: relative;">
                                <table class="layui-table" id="set">
                                    <thead>
                                        <tr>
                                            <th>序号</th>
                                            <th>号码</th>
                                            <th>渠道商</th>
                                            <th>运营商</th>
                                            <th>充值时长</th>
                                            <th>价格</th>
                                            <th>更新时间</th>
                                            <th>订单状态</th>
                                            <th>备注</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <img data-v-09b08e85="" data-v-ecae308c="" onclick="showtable();" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAACwUlEQVRIibXWb2jVVRzH8dfuZmPiv9sYWuJAaw4LwUprzGmQThNFsWeJ1AQx6IEPojDNtIiIngj1SEU0JAsElYxyyuqJTIWsUGRDVk1mBuqGczMno3Z7cHbLXfc792a3z6PD+X7Oef9+v/P9fc+3pOH1jAI0DkuxALNQiXL04Sd8h+bhcVRleeIzsBlrMDbBU4+Xhset+BBfJm2YSpgvxVZcwPoILFfzcRTHUV0ocILwed5DRYGgXC3BD2jIB5yIb7D4PkF3qxIn8FwSsAT7MbcIsKwqcBjTRwNuwMoiwrKaiANZVml1/TswSTjsvGc2voKFs3mmlocruXGLgcEQ+6CJ/ttc6bln2TR04lz2t3gVD+aDvf0ic2YEwJ1BxpSyfintl9n+KdOqmJxOXL4F+7PAdTFQKsWRrfT+zrufcb5zZOy11Xz0CoN/0H0zcZuZaCjDY3g0Btyzkd5bvLxj5PyUNCvr6OljVV2Yu5oMhBVlqIs55tZQM5UFb9wbq3iARx5iaIiDJ+nuo+taFFhfhtqYo6mR5u9Hj3VeZdPeKCBXNSkhbRNVNYELlwrbrboqfOKI0km19G9lhMQoRPNmhgSKKYXoMV/p5qloSv2j6VPo+C1quZHCxZhjdzPPzqZ8TH7gqjr2nohaOlI4E3Nc/JXWNr7YFod9vikUgNPtUdupFNrwc8z15j66rnN0OyueDuUNxpbT+ASH3iKTYcPH8YfCVyXDLcYWvJ/P3dTI8nn0D4SKkh5PehwtP7Lz67ywDtRmgZPwC5Ir4X/XOnySTfhe4S3/L50W7toR9+Eu4Yoqtm5iLYZygRmh+zpbRNgAXhCOSy4w+zSL0FIEWI/Qy3579+RoRasPz2Mb7twnrAVP4mRuIKlK/im0iY9jD24XCGoV+qJGdI1mKPkXrf4yoc+cJbQj5egX2vuzOCb8a1H9BTcQpnCW3zdlAAAAAElFTkSuQmCC" title="刷新" class="refresh-btn" style="transform: rotate(360deg); position: absolute; right: 30px; top: 20px;">
                        </div>
                    </div>
                </main>
            </section>
        </div>
    </div>
</body>
<div th:include="400/common/include :: footer"></div>
<script>
    $(function(){
        //日期选择
        layui.use('laydate', function(){
            var laydate = layui.laydate;
            //常规用法
            laydate.render({
                elem: '#start'
            });
            laydate.render({
                elem: '#end'
            });
        });
        showtable();
    });

    function showtable() {
        var params = {
            "provider": $("#operator").attr("data-bind"),
            "category": $("#type").attr("data-bind"),
            "notInclude": $('.notInclude').val(),
            "phoneNum": $('.phoneNum').val(),
        }
        var columns = [
            {"data": null},
            {"data": "applyNumber"},
            {"data": "userName"},
            {"data": "provider"},
            {"data": "ageLimit"},
            {"data": "price"},
            {"data": "createTime"},
            {"data": "status"},
            {"data": "remarks"}
        ];
        var columnDefs = [{
            targets: [4],
            render: function (data, type, row, meta) {
                return data + "年";
            }
        },{
            targets: [9],
            render: function (data, type, row, meta) {
                var id = row.id;
                return "<div class=\"cell\">\n" +
                            "<button data-v-ecae308c=\"\" type=\"button\" class=\"el-button el-button--text\" onclick=\"perfect("+id+")\">申请模板</button>" +
                    "<button data-v-ecae308c=\"\" type=\"button\" class=\"el-button el-button--text\" onclick=\"commitFile("+id+")\">完善资料</button>" +
                    "<button data-v-ecae308c=\"\" type=\"button\" class=\"el-button el-button--text\" onclick=\"setMeal("+id+")\">订购套餐</button>" +
                            "<button data-v-ecae308c=\"\" type=\"button\" class=\"el-button el-button--text\" onclick=\"Details("+id+")\">详情</button>" +

                        "</div>";
            }
        }]
        page("#set", 5, {}, "/400/selectOrder", columns, columnDefs);
    }

    //搜索
    function Searchd(obj,this_){
        var is_click = $(this_).attr("is_click");
        if(is_click == 1){
            $("."+obj+"_icon").addClass("is-reverse");
            $("."+obj+"_d").show();
            $(this_).attr("is_click",2);
        }else if(is_click == 2){
            $("."+obj+"_icon").removeClass("is-reverse");
            $("."+obj+"_d").hide();
            $(this_).attr("is_click",1);
        }
    }
    //城市切换
    function SelectCity(obj,this_,id) {
        $(this_).addClass("selected").siblings("li").removeClass("selected");
        $("."+id+"_icon").removeClass("is-reverse");
        $("."+id+"_d").hide();
        $("#"+id).attr("is_click",1).val(obj);
    }
    //订单详情
    function Details(id) {
        layer.open({
            type: 2,
            title: '订单详情',
            content: '/400/toOrderDetail/'+id,
            area: ['1100px', '600px'],
        });
    }

    //完善资料
    function perfect(id) {
        window.location.href = "/400/next/"+id;
    }
    //订单详情
    function Edits() {
        location.href = "order_edit.html";
    }

    function commitFile(id){
        window.location.href = "/400/commitFile/"+id;
    }

    function setMeal(id){
        window.location.href = "/400/setMeal/"+id;
    }

</script>
</html>
